(function(e,n){typeof exports==="object"&&typeof module!=="undefined"?module.exports=n():typeof define==="function"&&define.amd?define(n):e.tplify=n()})(this,function(){return function e(n,t){var r=n.replace(/(^|%>)([\s\S]*?)(<%|$)/g,function(e,n,t){return't+="'+t.replace(/\r?\n/g,"\\n").replace(/<(.*?)>/g,function(e,n){return e.replace(/"/g,"'")}).replace(/>(.*?)</g,function(e,n){return e.replace(/"/g,"&quot;")}).replace(/{{(.*?)}}/g,function(e,n){n=n.indexOf("=")!==0?"_e("+n+")":n.slice(1);return'"+'+n.replace(/&quot;/g,'"')+'+"'})+'";'});return new Function("d","_e",'with(d){var t="";'+r+"return t;}")(t||{},function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")})}});